<%- include('../../views/partials/admin/header.ejs') %>
<div class="page-content">

      <!-- top metric cards -->
      <div class="row g-3 mb-4">
        <div class="col-md-3">
          <div class="dashboard-card">
            <small class="text-muted" style="font-size: 1.2rem;">Total Sales</small>
            <div class="h4 mt-2 mb-1">$24,780</div>
            <small class="text-success" style="font-size: 1.2rem;">+12.5% vs last month</small>
          </div>
        </div>

        <div class="col-md-3">
          <div class="dashboard-card">
            <small class="text-muted" style="font-size: 1.2rem;">Total Orders</small>
            <div class="h4 mt-2 mb-1">1,243</div>
            <small class="text-success" style="font-size: 1.2rem;">+8.2% vs last month</small>
          </div>
        </div>

        <div class="col-md-3">
          <div class="dashboard-card">
            <small class="text-muted" style="font-size: 1.2rem;">Active Users</small>
            <div class="h4 mt-2 mb-1">5,678</div>
            <small class="text-success" style="font-size: 1.2rem;">+3.1% vs last month</small>
          </div>
        </div>

        <div class="col-md-3">
          <div class="dashboard-card">
            <small class="text-muted" style="font-size: 1.2rem;">Revenue Today</small>
            <div class="h4 mt-2 mb-1">$1,280</div>
            <small class="text-success" style="font-size: 1.2rem;">+4.6% vs last month</small>
          </div>
        </div>
      </div>

      <!-- chart + quick links -->
      <div class="row g-4 mb-4">
        <div class="col-lg-8">
          <div class="chart-box">
            <h4 class="fw-bold mb-3">Sales Overview</h4>
            <canvas id="salesChart" style="max-height:240px"></canvas>
          </div>
        </div>

        <div class="col-lg-4">
          <div class="dashboard-card quick-links">
            <h4 class="fw-bold mb-3">Quick Links</h4>
            <div class="d-grid gap-2">
              <a class="btn btn-outline-secondary" href="/admin/products/new"><i class="bi bi-plus-circle me-2"></i> Add New Product</a>
              <a class="btn btn-outline-secondary" href="/admin/orders"><i class="bi bi-list-check me-2"></i> View All Orders</a>
              <a class="btn btn-outline-secondary" href="/admin/inventory"><i class="bi bi-box me-2"></i> Manage Inventory</a>
            </div>
          </div>
        </div>
      </div>

      <!-- recent orders -->
      <div class="dashboard-card mb-4">
        <h4 class="fw-bold mb-3">Recent Orders</h4>
        <div class="table-responsive">
          <table class="table table-hover align-middle">
            <thead class="table-light">
              <tr>
                <th>Order ID</th>
                <th>Customer</th>
                <th>Total</th>
                <th>Status</th>
                <th>Date</th>
                <th></th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>#ORD-8321</td>
                <td>Emma Johnson</td>
                <td>$210.50</td>
                <td><span class="badge bg-success">Delivered</span></td>
                <td>2025-05-10</td>
                <td><a class="btn btn-sm btn-outline-secondary" href="#">View</a></td>
              </tr>
              <tr>
                <td>#ORD-8222</td>
                <td>Michael Brown</td>
                <td>$175.20</td>
                <td><span class="badge bg-primary">Shipped</span></td>
                <td>2025-05-09</td>
                <td><a class="btn btn-sm btn-outline-secondary" href="#">View</a></td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>

    </div><!-- /.page-content -->

  </div><!-- /.main -->
</div><!-- /.admin-root -->

<!-- Bootstrap JS + ChartJS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<script>
  // Mobile menu toggle
  const menuBtn = document.getElementById('menuBtn');
  const sidebar = document.getElementById('sidebar');
  const overlay = document.getElementById('overlay');

  menuBtn?.addEventListener('click', () => {
    sidebar.classList.toggle('show');
    overlay.classList.toggle('show');
  });
  overlay?.addEventListener('click', () => {
    sidebar.classList.remove('show');
    overlay.classList.remove('show');
  });

  // Demo chart (Chart.js)
  const ctx = document.getElementById('salesChart');
  if (ctx) {
    new Chart(ctx, {
      type: 'line',
      data: {
        labels: ['Jan','Feb','Mar','Apr','May','Jun'],
        datasets: [{
          label: 'Sales',
          data: [4300, 3200, 5000, 2200, 3100, 3700],
          borderWidth: 2,
          pointRadius: 0,
          fill: true,
          backgroundColor: 'rgba(36,165,105,0.06)',
          borderColor: '#2ca86b',
          tension: 0.35
        }]
      },
      options: {
        maintainAspectRatio: false,
        plugins: { legend: { display: false } },
        scales: {
          x: { grid: { display: false } },
          y: { grid: { color: '#f1f1f1' } }
        }
      }
    });
  }
</script>
</body>
</html>